(this["webpackJsonpbook-list"]=this["webpackJsonpbook-list"]||[]).push([[0],{28:function(e,t,a){e.exports=a(63)},33:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),o=a.n(l),s=(a(33),a(34),a(17),a(35),a(8)),c=a.n(s),i=a(15),d=a(14),m=a(3),u=a(4),p=a(6),h=a(5),b=a(7),f=a(11),v=a.n(f),E=a(9),N=a(13),g=a(10);a(57);E.b.add(g.a);var k=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showAlert,a=e.errorNew;return r.a.createElement("span",null,t&&!a&&r.a.createElement("div",{className:"alert alert-success ".concat(t?"alert-shown":"alert-hidden")},r.a.createElement("strong",null,"Saved!\xa0"),"New Book added to the list","\xa0\xa0",r.a.createElement(N.a,{icon:g.a,size:"lg"}),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))))}}]),t}(r.a.Component),w=(a(58),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={showAlert:!1},a.setFocus=function(){a.titleInput.focus()},a.showAlert=function(e){e||(a.setState({showAlert:!0}),setTimeout((function(){a.setState({showAlert:!1})}),2e3),a.setFocus())},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleAdd,n=t.handleChange,l=t.author,o=t.title,s=t.description,c=t.errorNew;return r.a.createElement("div",{id:"accordion1"},r.a.createElement(k,{showAlert:this.state.showAlert,errorNew:c}),r.a.createElement("div",{className:"card"},r.a.createElement("div",{id:"add-hdr",className:"card-header"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg btn-block add-btn","data-toggle":"collapse",href:"#collapseNew",onClick:this.setFocus},"Add New Book")),r.a.createElement("div",{id:"collapseNew",className:"collapse","data-parent":"#accordion1"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(e){return a(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title",className:c?"text-danger":""},"Title ",c&&r.a.createElement("small",{id:"titleHelp",className:"text-danger"}," - This field cannot be empty!")),r.a.createElement("input",{value:o,name:"title",ref:function(t){e.titleInput=t},className:c?"form-control is-invalid":"form-control",id:"title","aria-describedby":"titleHelp",onChange:function(e){return n(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Author"),r.a.createElement("small",null,"\xa0 (optional)"),r.a.createElement("input",{ref:function(t){e.authorInput=t},name:"author",className:"form-control",id:"author",value:l,onChange:function(e){return n(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("small",null,"\xa0 (optional)"),r.a.createElement("textarea",{value:s,name:"description",className:"form-control",id:"description",rows:"3",onChange:function(e){return n(e)}})),r.a.createElement("div",{className:"form-group float-right"},r.a.createElement("button",{type:"button","data-toggle":"collapse",href:"#collapseNew",className:"btn btn-default mr-3",onClick:this.props.resetInputs},"Cancel"),r.a.createElement("button",{type:"submit",className:"btn btn-success save-btn",onClick:function(){return e.showAlert(c)}},"Save New")))))))}}]),t}(r.a.Component)),y=(a(59),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.delItemId,a=e.delItemName,n=e.handleDelete;return r.a.createElement("div",{className:"modal fade",id:"deleteModal"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Delete Book"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,"Are you sure you want to delete this item?"),r.a.createElement("span",{className:"font-weight-bold"},a)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Cancel"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return n(t)},"data-dismiss":"modal"},"Yes")))))}}]),t}(r.a.Component));a(60);E.b.add(g.b);var I=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.books,a=e.handleUpdate,n=e.getDeleteModal,l=e.errorUpd,o=e.selectItem,s=e.activeItemId;return r.a.createElement("div",{id:t.id,className:"card book"},r.a.createElement("a",{className:"card-link "+(t.id===s?"active":""),"data-toggle":"collapse",href:"#row"+t.id,onClick:o},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",{className:"titleName pr-3"},t.title),r.a.createElement("span",{className:"authorName"},t.author),r.a.createElement("span",{id:"ellipsis",className:"float-right"},r.a.createElement(N.a,{icon:g.b})))),r.a.createElement("div",{id:"row"+t.id,className:"collapse","data-parent":"#accordion2"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:function(e){return a(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title",className:l?"text-danger":""},"Title ",l&&r.a.createElement("small",{className:"text-danger"}," - This field cannot be empty!")),r.a.createElement("input",{className:l?"form-control is-invalid":"form-control",name:"title","aria-describedby":"titleHelp",defaultValue:t.title})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"author"},"Author"),r.a.createElement("small",null,"\xa0 (optional)"),r.a.createElement("input",{className:"form-control",name:"author",defaultValue:t.author}),r.a.createElement("input",{type:"hidden",className:"form-control",name:"id",value:t.id})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("small",null,"\xa0 (optional)"),r.a.createElement("textarea",{className:"form-control",name:"description",rows:"3",defaultValue:t.description})),r.a.createElement("div",{className:"form-group float-right"},r.a.createElement("button",{onClick:function(){return n(t)},"data-toggle":"modal","data-target":"#deleteModal",type:"button",className:"btn btn-danger mr-3"},"Delete"),r.a.createElement("button",{type:"submit",className:"btn btn-success save-btn"},"Save Changes"))))))}}]),t}(r.a.Component),j=(a(61),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={delItemName:"",delItemId:null,activeItemId:null},a.getDeleteModal=function(e){a.setState({delItemName:e.title,delItemId:e.id})},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"selectItem",value:function(e){this.state.activeItemId!==e?this.setState({activeItemId:e}):this.setState({activeItemId:null})}},{key:"render",value:function(){var e=this,t=this.props,a=t.books,n=t.errorUpd;return r.a.createElement("div",{id:"accordion2"},a.map((function(t){return r.a.createElement(I,{books:t,handleUpdate:e.props.handleUpdate,getDeleteModal:e.getDeleteModal,errorUpd:n,activeItemId:e.state.activeItemId,selectItem:function(){return e.selectItem(t.id)},key:t.id})})),r.a.createElement(y,{handleDelete:this.props.handleDelete,delItemId:this.state.delItemId,delItemName:this.state.delItemName}))}}]),t}(r.a.Component)),O=(a(62),"https://my-json-server.typicode.com/sparkki/db/books"),C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={author:"",title:"",description:"",books:[],errorNew:!1,errorUpd:!1},a.handleChange=function(e){var t;a.setState((t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"errorNew",!1),t))},a.handleAdd=function(e){var t,n,r,l;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),!a.handleValidation()){o.next=15;break}return t={author:a.state.author,title:a.state.title,description:a.state.description},o.prev=3,o.next=6,c.a.awrap(v.a.post(O,t));case 6:n=o.sent,r=n.data,l=[].concat(Object(i.a)(a.state.books),[r]),a.setState({books:l,author:"",title:"",description:"",errorNew:!1}),o.next=15;break;case 12:o.prev=12,o.t0=o.catch(3),console.error(o.t0);case 15:case"end":return o.stop()}}),null,null,[[3,12]])},a.handleUpdate=function(e){var t,n,r,l;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t={id:e.target.id.value,author:e.target.author.value,title:e.target.title.value,description:e.target.description.value},!a.handleValidationUpd(e)){o.next=18;break}return o.prev=2,o.next=5,c.a.awrap(v.a.put(O+"/"+t.id,t));case 5:n=o.sent,n.data,r=Object(i.a)(a.state.books),l=r.indexOf(t),r[l]=t,a.setState({books:r,errorUpd:!1}),o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),console.error(o.t0);case 16:o.next=19;break;case 18:a.handleValidationUpd(e)||t.title||e.preventDefault();case 19:case"end":return o.stop()}}),null,null,[[2,13]])},a.handleDelete=function(e){var t;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.a.awrap(v.a.delete(O+"/"+e));case 3:t=a.state.books.filter((function(t){return t.id!==e})),a.setState({books:t}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])},a.resetInputs=function(){a.setState({author:"",title:"",description:"",errorNew:!1})},a}return Object(b.a)(t,e),Object(u.a)(t,[{key:"getBooks",value:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.awrap(v.a.get(O));case 3:e=t.sent,this.setState({books:e.data}),console.log(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),null,this,[[0,8]])}},{key:"componentDidMount",value:function(){this.getBooks()}},{key:"handleValidation",value:function(){var e=!0;return this.state.title||(e=!1,this.setState({errorNew:!0})),e}},{key:"handleValidationUpd",value:function(e){var t=!0;return e.target.title.value||(t=!1,this.setState({errorUpd:!0})),t}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{id:"app-hdr"},"Book List"),r.a.createElement(w,{handleAdd:this.handleAdd,handleChange:this.handleChange,resetInputs:this.resetInputs,author:this.state.author,title:this.state.title,description:this.state.description,errorNew:this.state.errorNew}),r.a.createElement(j,{books:this.state.books,handleUpdate:this.handleUpdate,handleDelete:this.handleDelete,errorUpd:this.state.errorUpd})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.a29f8a30.chunk.js.map